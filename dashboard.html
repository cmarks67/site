<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Warehouse Intelligence – Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        body {
            font-family: system-ui, sans-serif;
            margin: 0;
            padding: 24px;
            background: #0b1120;
            color: #e5e7eb;
        }
        .card {
            background: #020617;
            padding: 24px;
            border-radius: 12px;
            max-width: 600px;
            margin: auto;
            border: 1px solid #1f2937;
        }
        button {
            margin-top: 16px;
            padding: 10px 14px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            background: #3b82f6;
            color: white;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>Dashboard</h1>
        <p id="user-email">Checking login…</p>
        <button id="btn-signout">Sign out</button>
    </div>

    <!-- Supabase global script -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        // INSERT YOUR OWN VALUES:
        const SUPABASE_URL = "YOUR_SUPABASE_URL_HERE";
        const SUPABASE_ANON_KEY = "YOUR_SUPABASE_ANON_KEY_HERE";

        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        const userEmailEl = document.getElementById("user-email");
        const btnSignout = document.getElementById("btn-signout");

        // Check the session on page load
        (async () => {
            const { data, error } = await supabase.auth.getSession();

            if (error || !data.session) {
                // Not logged in → redirect to sign-in
                window.location.href = "signin.html";
                return;
            }

            const user = data.session.user;
            userEmailEl.textContent = `Signed in as: ${user.email}`;
        })();

        // Sign out button
        btnSignout.addEventListener("click", async () => {
            await supabase.auth.signOut();
            window.location.href = "signin.html";
        });
    </script>
</body>
</html>
